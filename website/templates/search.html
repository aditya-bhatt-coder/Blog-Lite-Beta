{% extends "base.html" %}

{% block title %}
  Search Results
{% endblock %}

{% block content%}
    <h1 align="center">{% block header %}Search results for "{{ query_str }}"{% endblock %}</h1>
    <br>
    {% if results|length == 0 %}
      <center>No results found!</center>
    {% endif %}
    {% for user in results %}
      {% if user in non_friend_list %}
        <div class="card border-dark">
          <div class="card-body d-flex justify-content-between align-items-center">
            <span>
              <i class="bi bi-person-circle"></i>&ensp;
              <a href="/posts/{{user.username}}">{{user.username}}</a>
            </span>
            <div>
              <a class="btn btn-primary" href="/follow/{{ user.id }}" role="button">Follow</a>
            </div>
          </div>
        </div>
      {% else %}
        <div class="card border-dark">
          <div class="card-body d-flex justify-content-between align-items-center">
            <span>
              <i class="bi bi-person-circle"></i>&ensp;
              <a href="/posts/{{user.username}}">{{user.username}}</a>
            </span>
            <div>
              <a class="btn btn-primary" href="/follow/{{ user.id }}" role="button">Unfollow</a>
            </div>
          </div>
        </div>
      {% endif %}
      <br>
    {% endfor %}
{% endblock %}